<div class="app-card" id="login-screen">
        <h1>ACCESS RESTRICTED</h1>
        <input type="password" id="pass-input" placeholder="Enter Code">
        <div class="btn" onclick="checkPass()">Login</div>
        <div id="strike-zone"></div>
    </div>

    <div class="app-card" id="secret-content" style="display:none;">
        <h1 style="color: #00ff00;">CLOUD TERMINAL ACTIVE</h1>
        <textarea id="save-box" placeholder="Syncing with encrypted cloud..."></textarea>
        <div id="status" style="font-size: 10px; color: #00ff00; margin-top: 5px;">All changes synced.</div>
        <div class="btn" style="background: #00ff00;" onclick="location.reload()">Lock & Exit</div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      // PASTE YOUR FIREBASE CONFIG HERE FROM THE FIREBASE CONSOLE// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyDPHicglEi7HDlHstg2-hmfdGcv3xyhoJ4",
  authDomain: "ultron-terminal.firebaseapp.com",
  projectId: "ultron-terminal",
  storageBucket: "ultron-terminal.firebasestorage.app",
  messagingSenderId: "767294075998",
  appId: "1:767294075998:web:86526ee6554388cd2ef0cf"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
      const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "your-project.firebaseapp.com",
        projectId: "your-project-id",
        storageBucket: "your-project.appspot.com",
        messagingSenderId: "123456789",
        appId: "1:12345:web:abcde"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      const noteDoc = doc(db, "secrets", "ultron_notes");

      const passInput = document.getElementById('pass-input');
      const saveBox = document.getElementById('save-box');
      const status = document.getElementById('status');

      // 1. Check Password & Load from DB
      window.checkPass = async () => {
        if (passInput.value === "tc303") {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('secret-content').style.display = 'block';
            
            // Fetch from Database
            const docSnap = await getDoc(noteDoc);
            if (docSnap.exists()) {
                saveBox.value = docSnap.data().content;
            }
        } else {
            alert("ACCESS DENIED");
        }
      };

      // 2. Auto-Save to Database (with "Debounce" to save battery/data)
      let timeout = null;
      saveBox.addEventListener('input', () => {
        status.innerText = "Syncing...";
        clearTimeout(timeout);
        
        timeout = setTimeout(async () => {
            try {
                await setDoc(noteDoc, { content: saveBox.value });
                status.innerText = "Cloud Synced.";
            } catch (e) {
                status.innerText = "Sync Error!";
                console.error(e);
            }
        }, 1000); // Wait 1 second after typing stops to save
      });
    </script>
